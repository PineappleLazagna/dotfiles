# System parameters
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = WLR_NO_HARDWARE_CURSORS,1
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct # change to qt6ct if you have that

monitor= eDP-1,    1920x1080,    0x0,    1
monitor= HDMI-A-1, 3840x2160@60, 0x1920, 1

# Apps that launch on startup
exec-once = hyprpaper 
exec-once = waybar
exec-once = ~/.config/hypr/scripts/changeWallpaper.sh
exec-once = /usr/bin/emacs --daemon &
#exec-once = [workspace 7 silent] spotify-launcher
#exec-once = [workspace 10 silent] qutebrowser
#exec-once = hyprlock
# No idea what this is
windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.
# Programs to run at start-up
$terminal    = emacsclient -c --eval '(multi-vterm)'
$browser     = qutebrowser
$fileManager = dolphin
$menu        = wofi --show drun
$emacs       = emacsclient -c -a 'emacs'
$screenshot  = grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%s_grim.png')
# Input settings
input{
  kb_layout =us
  kb_variant = intl
  kb_options =ctrl:nocaps
  accel_profile = flat
  follow_mouse = 1
  mouse_refocus = false
  sensitivity = 0 # -1.0 to 1.0, 0 means no modification.
}
# General settings
general {
    gaps_in = 0
    gaps_out = 7 #20
    border_size = 1
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    allow_tearing = false
    layout = master
}

decoration {
    rounding = 2 #10
    blur {
        enabled = true
        size = 7
        passes = 3
        noise = 0.008
        contrast = 0.8916
        brightness = 0.8
    }
    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}

#animations are copied from the hy3 dev'd dotfiles
animations {
enabled = yes
bezier = windowIn, 0.06, 0.71, 0.25, 1
bezier = windowResize, 0.04, 0.67, 0.38, 1
animation = windowsIn, 1, 3, windowIn, slide #popin 20%
animation = windowsOut, 1, 3, windowIn, slide #popin 70%
animation = windowsMove, 1, 2.5, windowResize
animation = border, 1, 10, default
animation = borderangle, 1, 8, default
animation = fade, 1, 3, default
animation = workspaces, 1, 6, default
animation = layers, 1, 5, windowIn, fade
}
master {
    orientation = left
}

gestures {
    workspace_swipe = on 
}

misc {
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = true
}

device {
    name = epic-mouse-v1
    sensitivity = -0.5
}
# Plugins, we use i3 basically to have a manual tiler 



	

# Keybinds
$mod = SUPER
# Run app
bind = $mod, q, exec, togglegroup
bind = $mod, L, exec, hyprlock
bind = $mod, R, exec, killall emacs && /usr/bin/emacs --daemon 
bind = $mod, W, exec, ~/.config/hypr/scripts/changeWallpaper.sh
bind = $mod,RETURN , exec, $emacs
bind = $mod, Q, exec, $browser
bind = $mod, S, exec, $menu
bind = $mod+SHIFT,RETURN, exec, $terminal
bind = $mod,Y, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%s.png')
# ALT keybinds (util)
bind = $mod, C, killactive, 
bind = $mod, M, exit, 
# hy3 commands
bind = $mod, O, fullscreen, 1
bind = $mod+SHIFT, O, fullscreen, 0

# Move focus with mainMod + arrow keys
bind = $mod, N, layoutmsg, cyclenext
bind = $mod, P, layoutmsg, cycleprev
bind = $mod SHIFT, N, layoutmsg, swapnext
bind = $mod SHIFT, P, layoutmsg, swapprev

# focus monitor
bind = $mod, bracketleft, focusmonitor, 0
bind = $mod, bracketright, focusmonitor, 1

# Switch workspaces
bind = $mod, ampersand,  focusworkspaceoncurrentmonitor, 1
bind = $mod, eacute,     focusworkspaceoncurrentmonitor, 2
bind = $mod, quotedbl,   focusworkspaceoncurrentmonitor, 3
bind = $mod, apostrophe, focusworkspaceoncurrentmonitor, 4
bind = $mod, parenleft,  focusworkspaceoncurrentmonitor, 5
bind = $mod, section,    focusworkspaceoncurrentmonitor, 6
bind = $mod, egrave,     focusworkspaceoncurrentmonitor, 7
bind = $mod, exclam,     focusworkspaceoncurrentmonitor, 8
bind = $mod, ccedilla,   focusworkspaceoncurrentmonitor, 9
bind = $mod, agrave,     focusworkspaceoncurrentmonitor, 10

bind = $mod, 1, focusworkspaceoncurrentmonitor, 1
bind = $mod, 2, focusworkspaceoncurrentmonitor, 2
bind = $mod, 3, focusworkspaceoncurrentmonitor, 3
bind = $mod, 4, focusworkspaceoncurrentmonitor, 4
bind = $mod, 5, focusworkspaceoncurrentmonitor, 5
bind = $mod, 6, focusworkspaceoncurrentmonitor, 6
bind = $mod, 7, focusworkspaceoncurrentmonitor, 7
bind = $mod, 8, focusworkspaceoncurrentmonitor, 8
bind = $mod, 9, focusworkspaceoncurrentmonitor, 9
bind = $mod, 0, focusworkspaceoncurrentmonitor, 10
# Move active window to a workspace
bind = $mod SHIFT, ampersand,  movetoworkspace, 1
bind = $mod SHIFT, eacute,     movetoworkspace, 2
bind = $mod SHIFT, quotedbl,   movetoworkspace, 3
bind = $mod SHIFT, apostrophe, movetoworkspace, 4
bind = $mod SHIFT, parenleft,  movetoworkspace, 5
bind = $mod SHIFT, section,    movetoworkspace, 6
bind = $mod SHIFT, egrave,     movetoworkspace, 7
bind = $mod SHIFT, exclam,     movetoworkspace, 8
bind = $mod SHIFT, ccedilla,   movetoworkspace, 9
bind = $mod SHIFT, agrave,     movetoworkspace, 10

bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10
# Scroll through existing workspaces with mainMod + scroll
bind = $mod, f, workspace, e+1
bind = $mod, b, workspace, e-1
# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow
